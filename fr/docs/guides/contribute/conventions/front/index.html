<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.2"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Front-end | OSRD</title><meta name=description content="Conventions de codes et bonnes pratiques pour le front-end"><meta property="og:title" content="Front-end"><meta property="og:description" content="Conventions de codes et bonnes pratiques pour le front-end"><meta property="og:type" content="article"><meta property="og:url" content="https://osrd.fr/fr/docs/guides/contribute/conventions/front/"><meta property="article:section" content="docs"><meta property="og:site_name" content="OSRD"><meta itemprop=name content="Front-end"><meta itemprop=description content="Conventions de codes et bonnes pratiques pour le front-end"><meta itemprop=wordCount content="1469"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Front-end"><meta name=twitter:description content="Conventions de codes et bonnes pratiques pour le front-end"><link rel=preload href=/scss/main.min.2630e74a757979ae8749757fe871a2cda0da39b3bb48e31e858fd5b3e754a6f7.css as=style><link href=/scss/main.min.2630e74a757979ae8749757fe871a2cda0da39b3bb48e31e858fd5b3e754a6f7.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/fr/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" id="svg35" width="110.674" height="22"><style id="style1">.st9{fill:#fff}</style><g id="ok" transform="translate(-14.662 -25.176) scale(.12964)"><g id="g29"><path id="path23" d="M170.1 317.5c-2.9 12-4.3 25.1-4.3 39.2v7.2h24.5c-4.2-19.6-11.5-34.7-20.2-46.4z" class="st9"/><path id="path24" d="M113.1 279.2v29.4c4.5 1.7 9.3 3.9 14 6.8 12.6 7.8 22.2 18.6 28.6 32.3v-45.8c-5.1-4.5-10.2-8.1-15.2-11.1-9.5-5.6-19-9.2-27.4-11.6z" class="st9"/><path id="path25" d="M165.7 297.5c6.3-16.6 15.7-31.1 28-43.4v-59.9h-28z" class="st9"/><path id="path26" d="M173.5 305.6c7.8 9.1 14.9 20.5 20.3 34.5v-71.2c-8.9 10.7-15.7 22.9-20.3 36.7z" class="st9"/><path id="path27" d="M261.9 194.2h-58.1v51c17.4-13.8 36.5-21.4 52.5-25.5 2.7-.7 5.4.9 6.1 3.6.7 2.7-.9 5.3-3.6 6-16.8 4.3-37.4 12.8-55.1 29.1v46.9c4.3-9.2 9.9-17.4 16.8-24.3 13.9-13.8 31.1-20.9 45-24.5 2.7-.7 5.4.9 6.1 3.6.7 2.7-.9 5.4-3.6 6-7 1.8-14.9 4.6-22.7 8.8-28 15.2-41.6 42-41.6 81.7v7.2h58.1c11.5.0 20.8-9.3 20.8-20.8V215c.1-11.5-9.2-20.8-20.7-20.8z" class="st9"/><path id="path28" d="M145.7 282.3c3.3 2 6.7 4.2 10.1 6.8v-94.8H134c-11.5.0-20.8 9.3-20.8 20.8v53.8c9.6 2.4 21 6.5 32.5 13.4z" class="st9"/><path id="path29" d="M121.1 323.5c-2.7-1.6-5.4-2.9-8-4.1V343c0 11.5 9.3 20.8 20.8 20.8h17.2c-5.4-18.1-15.4-31.6-30-40.3z" class="st9"/></g><g id="g30"><path id="path30" d="M411.2 355.3c-45.6.0-79.4-31.3-79.4-77.5.0-46.8 33.8-76.3 79.4-76.3 45.8.0 79.6 29.5 79.6 76.3.0 46.2-33.8 77.5-79.6 77.5zm0-122.1c-24.7.0-41.7 19-41.7 44.5.0 26.4 17.1 45.4 41.7 45.4s41.9-19 41.9-45.4c-.1-25.5-17.2-44.5-41.9-44.5z" class="st9"/></g><g id="g32"><g id="g31"><path id="path31" d="M607.3 243.3c-6-7.6-16.9-12.6-26-12.6s-20.4 3.1-20.4 14.6c0 9.7 8.7 12.8 22.5 17.1 19.8 6.4 45.4 14.8 45.4 43.9.0 33.6-27 48.7-55.9 48.7-20.8.0-41.9-7.6-54.6-21l23.1-23.5c7 8.9 20 15.5 31.5 15.5 10.7.0 20.2-4.1 20.2-15.9.0-11.1-11.1-14.6-30.3-20.8-18.6-6-37.3-15.5-37.3-41.9.0-32.4 29.3-45.8 56.5-45.8 16.5.0 35.1 6.2 47.8 17.9z" class="st9"/></g></g><g id="g34"><g id="g33"><path id="path32" d="m753.3 351.4-31.5-57.9h-12v57.9h-34.6v-146h55.7c28 0 55.9 10.7 55.9 44.1.0 19.6-11.5 33.6-30.3 39.4l38.1 62.5zm-25-117.5h-18.8v34h16.7c11.3.0 25.6-2.9 25.6-17.7.0-13.7-13-16.3-23.5-16.3z" class="st9"/></g></g><g id="g35"><path id="path34" d="M884.9 351.4h-54.4v-146h52.8c41.4.0 83.5 17.3 83.5 72.6-.1 51.3-41.7 73.4-81.9 73.4zm-2.5-115.9h-17.5v85.4h16.7c25.2.0 48.5-10.3 48.5-42.9-.1-32.8-23.4-42.5-47.7-42.5z" class="st9"/></g></g></svg></span><span class=font-weight-bold>OSRD</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/fr/about/><span>À propos</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/fr/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/fr/blog/><span>Blog</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Français</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/docs/guides/contribute/conventions/front/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Rechercher" aria-label=Rechercher autocomplete=off data-offline-search-index-json-src=/offline-search-index.f33e0a72c5ae719fbec2d444cec7b177.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Rechercher" aria-label=Rechercher autocomplete=off data-offline-search-index-json-src=/offline-search-index.f33e0a72c5ae719fbec2d444cec7b177.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Français</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/docs/guides/contribute/conventions/front/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-frdocs-li><a href=/fr/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-frdocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocstutorials-li><input type=checkbox id=m-frdocstutorials-check>
<label for=m-frdocstutorials-check><a href=/fr/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocstutorials><span>Tutoriels</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsexplanation-li><input type=checkbox id=m-frdocsexplanation-check>
<label for=m-frdocsexplanation-check><a href=/fr/docs/explanation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsexplanation><span>Explications</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsexplanationmodels-li><input type=checkbox id=m-frdocsexplanationmodels-check>
<label for=m-frdocsexplanationmodels-check><a href=/fr/docs/explanation/models/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsexplanationmodels><span>Modèles</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationmodelsdata-models-full-example-li><input type=checkbox id=m-frdocsexplanationmodelsdata-models-full-example-check>
<label for=m-frdocsexplanationmodelsdata-models-full-example-check><a href=/fr/docs/explanation/models/data-models-full-example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationmodelsdata-models-full-example><span>Exemple d'infrastructure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationmodelsneutral_sections-li><input type=checkbox id=m-frdocsexplanationmodelsneutral_sections-check>
<label for=m-frdocsexplanationmodelsneutral_sections-check><a href=/fr/docs/explanation/models/neutral_sections/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationmodelsneutral_sections><span>Zones neutres</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsexplanationrunning_time_calculation-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculation-check>
<label for=m-frdocsexplanationrunning_time_calculation-check><a href=/fr/docs/explanation/running_time_calculation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsexplanationrunning_time_calculation><span>Calcul de marche</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationrunning_time_calculationphysical_modeling-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculationphysical_modeling-check>
<label for=m-frdocsexplanationrunning_time_calculationphysical_modeling-check><a href=/fr/docs/explanation/running_time_calculation/physical_modeling/ title="Modélisation physique" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationrunning_time_calculationphysical_modeling><span>1 - Modélisation physique</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationrunning_time_calculationnumerical_integration-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculationnumerical_integration-check>
<label for=m-frdocsexplanationrunning_time_calculationnumerical_integration-check><a href=/fr/docs/explanation/running_time_calculation/numerical_integration/ title="Intégration numérique" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationrunning_time_calculationnumerical_integration><span>2 - Intégration numérique</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationrunning_time_calculationenvelopes_system-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculationenvelopes_system-check>
<label for=m-frdocsexplanationrunning_time_calculationenvelopes_system-check><a href=/fr/docs/explanation/running_time_calculation/envelopes_system/ title="Le système d'enveloppes" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationrunning_time_calculationenvelopes_system><span>3 - Le système d'enveloppes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationrunning_time_calculationpipeline-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculationpipeline-check>
<label for=m-frdocsexplanationrunning_time_calculationpipeline-check><a href=/fr/docs/explanation/running_time_calculation/pipeline/ title="Le processus de calcul de marche" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationrunning_time_calculationpipeline><span>4 - Le processus de calcul de marche</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsexplanationrunning_time_calculationallowances-li><input type=checkbox id=m-frdocsexplanationrunning_time_calculationallowances-check>
<label for=m-frdocsexplanationrunning_time_calculationallowances-check><a href=/fr/docs/explanation/running_time_calculation/allowances/ title="Les marges" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsexplanationrunning_time_calculationallowances><span>5 - Les marges</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-frdocsguides-li><input type=checkbox id=m-frdocsguides-check checked>
<label for=m-frdocsguides-check><a href=/fr/docs/guides/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsguides><span>Guides pratiques</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-frdocsguidescontribute-li><input type=checkbox id=m-frdocsguidescontribute-check checked>
<label for=m-frdocsguidescontribute-check><a href=/fr/docs/guides/contribute/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsguidescontribute><span>Contribuer à OSRD</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributebatch-updating-dependencies-li><input type=checkbox id=m-frdocsguidescontributebatch-updating-dependencies-check>
<label for=m-frdocsguidescontributebatch-updating-dependencies-check><a href=/fr/docs/guides/contribute/batch-updating-dependencies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributebatch-updating-dependencies><span>Mise à jour groupée des dépendances</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributebug-reports-li><input type=checkbox id=m-frdocsguidescontributebug-reports-check>
<label for=m-frdocsguidescontributebug-reports-check><a href=/fr/docs/guides/contribute/bug-reports/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributebug-reports><span>Signaler des problèmes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributecode-li><input type=checkbox id=m-frdocsguidescontributecode-check>
<label for=m-frdocsguidescontributecode-check><a href=/fr/docs/guides/contribute/code/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributecode><span>Contribuer du code</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-frdocsguidescontributeconventions-li><input type=checkbox id=m-frdocsguidescontributeconventions-check checked>
<label for=m-frdocsguidescontributeconventions-check><a href=/fr/docs/guides/contribute/conventions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsguidescontributeconventions><span>Conventions</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributeconventionsback-li><input type=checkbox id=m-frdocsguidescontributeconventionsback-check>
<label for=m-frdocsguidescontributeconventionsback-check><a href=/fr/docs/guides/contribute/conventions/back/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributeconventionsback><span>Back-end</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-frdocsguidescontributeconventionsfront-li><input type=checkbox id=m-frdocsguidescontributeconventionsfront-check checked>
<label for=m-frdocsguidescontributeconventionsfront-check><a href=/fr/docs/guides/contribute/conventions/front/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributeconventionsfront><span class=td-sidebar-nav-active-item>Front-end</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributeconventionstests-li><input type=checkbox id=m-frdocsguidescontributeconventionstests-check>
<label for=m-frdocsguidescontributeconventionstests-check><a href=/fr/docs/guides/contribute/conventions/tests/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributeconventionstests><span>Tests</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsguidescontributecode-reviews-li><input type=checkbox id=m-frdocsguidescontributecode-reviews-check>
<label for=m-frdocsguidescontributecode-reviews-check><a href=/fr/docs/guides/contribute/code-reviews/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsguidescontributecode-reviews><span>Passer du code en revue</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreference-li><input type=checkbox id=m-frdocsreference-check>
<label for=m-frdocsreference-check><a href=/fr/docs/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreference><span>Référence technique</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferencearchitecture-li><input type=checkbox id=m-frdocsreferencearchitecture-check>
<label for=m-frdocsreferencearchitecture-check><a href=/fr/docs/reference/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferencearchitecture><span>Architecture</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencearchitecturedata_flow-li><input type=checkbox id=m-frdocsreferencearchitecturedata_flow-check>
<label for=m-frdocsreferencearchitecturedata_flow-check><a href=/fr/docs/reference/architecture/data_flow/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencearchitecturedata_flow><span>Flux des données</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencearchitectureservices-li><input type=checkbox id=m-frdocsreferencearchitectureservices-check>
<label for=m-frdocsreferencearchitectureservices-check><a href=/fr/docs/reference/architecture/services/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencearchitectureservices><span>Services</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferencedesign-docs-li><input type=checkbox id=m-frdocsreferencedesign-docs-check>
<label for=m-frdocsreferencedesign-docs-check><a href=/fr/docs/reference/design-docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferencedesign-docs><span>Documents de conception</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferencedesign-docsinterlocking-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlocking-check>
<label for=m-frdocsreferencedesign-docsinterlocking-check><a href=/fr/docs/reference/design-docs/interlocking/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferencedesign-docsinterlocking><span>Poste d'aiguillage</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockingmovable-elements-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockingmovable-elements-check>
<label for=m-frdocsreferencedesign-docsinterlockingmovable-elements-check><a href=/fr/docs/reference/design-docs/interlocking/movable-elements/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockingmovable-elements><span>Éléments mobiles</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockinglocation-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockinglocation-check>
<label for=m-frdocsreferencedesign-docsinterlockinglocation-check><a href=/fr/docs/reference/design-docs/interlocking/location/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockinglocation><span>Localisation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockingreservation-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockingreservation-check>
<label for=m-frdocsreferencedesign-docsinterlockingreservation-check><a href=/fr/docs/reference/design-docs/interlocking/reservation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockingreservation><span>Reservation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockingrouting-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockingrouting-check>
<label for=m-frdocsreferencedesign-docsinterlockingrouting-check><a href=/fr/docs/reference/design-docs/interlocking/routing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockingrouting><span>Routage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockingordering-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockingordering-check>
<label for=m-frdocsreferencedesign-docsinterlockingordering-check><a href=/fr/docs/reference/design-docs/interlocking/ordering/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockingordering><span>Ordonnancement</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsinterlockingtrain-li><input type=checkbox id=m-frdocsreferencedesign-docsinterlockingtrain-check>
<label for=m-frdocsreferencedesign-docsinterlockingtrain-check><a href=/fr/docs/reference/design-docs/interlocking/train/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsinterlockingtrain><span>Train</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docssignaling-li><input type=checkbox id=m-frdocsreferencedesign-docssignaling-check>
<label for=m-frdocsreferencedesign-docssignaling-check><a href=/fr/docs/reference/design-docs/signaling/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docssignaling><span>Signalisation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferencedesign-docsstdcm-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcm-check>
<label for=m-frdocsreferencedesign-docsstdcm-check><a href=/fr/docs/reference/design-docs/stdcm/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferencedesign-docsstdcm><span>Recherche de sillons de dernière minute (STDCM)</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmdomain_context-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmdomain_context-check>
<label for=m-frdocsreferencedesign-docsstdcmdomain_context-check><a href=/fr/docs/reference/design-docs/stdcm/domain_context/ title="Contexte métier" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmdomain_context><span>1 - Contexte métier</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_module-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_module-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_module-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/ title="Module de recherche de sillons" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferencedesign-docsstdcmpathfinding_module><span>2 - Module de recherche de sillons</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleinputs-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleinputs-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_moduleinputs-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/inputs/ title="Description du format d'entrée" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleinputs><span>1 - Description du format d'entrée</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/graph_representation/ title="Représentation de l'espace de solutions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulegraph_representation><span>2 - Représentation de l'espace de solutions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulebacktracking-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_modulebacktracking-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_modulebacktracking-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/backtracking/ title="Discontinuités et retours en arrière" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulebacktracking><span>3 - Discontinuités et retours en arrière</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/conflict_avoidance/ title="Contourner les conflits" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance><span>4 - Contourner les conflits</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/standard_allowance/ title="Marge de régularité" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance><span>5 - Marge de régularité</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-check>
<label for=m-frdocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-check><a href=/fr/docs/reference/design-docs/stdcm/pathfinding_module/implementation_details/ title="Détails d'implémentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details><span>6 - Détails d'implémentation</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferencedesign-docsstdcmsignaling_interface-li><input type=checkbox id=m-frdocsreferencedesign-docsstdcmsignaling_interface-check>
<label for=m-frdocsreferencedesign-docsstdcmsignaling_interface-check><a href=/fr/docs/reference/design-docs/stdcm/signaling_interface/ title="Interface avec la signalisation" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferencedesign-docsstdcmsignaling_interface><span>3 - Interface avec la signalisation</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsreferenceapis-li><input type=checkbox id=m-frdocsreferenceapis-check>
<label for=m-frdocsreferenceapis-check><a href=/fr/docs/reference/apis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferenceapis><span>APIs</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferenceapisapi-li><input type=checkbox id=m-frdocsreferenceapisapi-check>
<label for=m-frdocsreferenceapisapi-check><a href=/fr/docs/reference/apis/api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferenceapisapi><span>API</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferenceapischartos-li><input type=checkbox id=m-frdocsreferenceapischartos-check>
<label for=m-frdocsreferenceapischartos-check><a href=/fr/docs/reference/apis/chartos/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferenceapischartos><span>Chartos</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferenceapiscore-li><input type=checkbox id=m-frdocsreferenceapiscore-check>
<label for=m-frdocsreferenceapiscore-check><a href=/fr/docs/reference/apis/core/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferenceapiscore><span>Core</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferenceapiseditoast-li><input type=checkbox id=m-frdocsreferenceapiseditoast-check>
<label for=m-frdocsreferenceapiseditoast-check><a href=/fr/docs/reference/apis/editoast/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsreferenceapiseditoast><span>Editoast</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsreferenceapisjson_schema-li><input type=checkbox id=m-frdocsreferenceapisjson_schema-check>
<label for=m-frdocsreferenceapisjson_schema-check><a href=/fr/docs/reference/apis/json_schema/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsreferenceapisjson_schema><span>JSON Schemas</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wiki-li><input type=checkbox id=m-frdocsrailway-wiki-check>
<label for=m-frdocsrailway-wiki-check><a href=/fr/docs/railway-wiki/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wiki><span>Wiki Ferroviaire</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikiglossary-li><input type=checkbox id=m-frdocsrailway-wikiglossary-check>
<label for=m-frdocsrailway-wikiglossary-check><a href=/fr/docs/railway-wiki/glossary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikiglossary><span>Glossaire</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignalling-li><input type=checkbox id=m-frdocsrailway-wikisignalling-check>
<label for=m-frdocsrailway-wikisignalling-check><a href=/fr/docs/railway-wiki/signalling/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignalling><span>Signalisation</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingrisks-li><input type=checkbox id=m-frdocsrailway-wikisignallingrisks-check>
<label for=m-frdocsrailway-wikisignallingrisks-check><a href=/fr/docs/railway-wiki/signalling/risks/ title="Les risques ferroviaires" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingrisks><span>Risques ferroviaires</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingsignals-li><input type=checkbox id=m-frdocsrailway-wikisignallingsignals-check>
<label for=m-frdocsrailway-wikisignallingsignals-check><a href=/fr/docs/railway-wiki/signalling/signals/ title="Les signaux" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingsignals><span>Signaux</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingoperation-modes-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modes-check>
<label for=m-frdocsrailway-wikisignallingoperation-modes-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/ title="Les régimes d’exploitation des lignes" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingoperation-modes><span>Régimes d'exploitation</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-lines-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-lines-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-lines-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/ title="Les lignes à une seule voie" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-lines><span>Lignes à une seule voie</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track/ title="La voie unique" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track><span>Voie unique</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-simplified-signalling-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-simplified-signalling-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-simplified-signalling-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-simplified-signalling/ title="La voie unique à signalisation simplifiée (VUSS)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-simplified-signalling><span>VUSS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-restricted-traffic-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-restricted-traffic-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-restricted-traffic-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-restricted-traffic/ title="La voie unique à trafic restreint (VUTR)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-with-restricted-traffic><span>VUTR</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-shuttle-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-shuttle-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-shuttle-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-shuttle/ title="L’exploitation en navette" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-shuttle><span>Navette</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-two-ways-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-two-ways-check>
<label for=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-two-ways-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-two-ways/ title="La voie banalisée" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modessingle-track-linessingle-track-two-ways><span>Voie banalisée</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-lines-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-lines-check>
<label for=m-frdocsrailway-wikisignallingoperation-modesdouble-track-lines-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/ title="La double voie" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-lines><span>Double voie</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-direction-installations-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-direction-installations-check>
<label for=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-direction-installations-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-direction-installations/ title="Les installations de contresens (ICS)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-direction-installations><span>ICS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-of-permanent-nature-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-of-permanent-nature-check>
<label for=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-of-permanent-nature-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track-of-permanent-nature/ title="La voie unique temporaire à caractère permanent (VUTP)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-of-permanent-nature><span>VUTP</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-check>
<label for=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track/ title="La voie unique temporaire (VUT)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linestemporary-single-track><span>VUT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-track-movement-li><input type=checkbox id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-track-movement-check>
<label for=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-track-movement-check><a href=/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-track-movement/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingoperation-modesdouble-track-linesopposite-track-movement><span>Mouvement à contre-voie</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingspacing-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacing-check>
<label for=m-frdocsrailway-wikisignallingspacing-check><a href=/fr/docs/railway-wiki/signalling/spacing/ title="Les systèmes d'espacement des trains" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingspacing><span>Espacement des trains</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systems-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingautomatic_block_systems-check>
<label for=m-frdocsrailway-wikisignallingspacingautomatic_block_systems-check><a href=/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systems><span>BA</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbal-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbal-check>
<label for=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbal-check><a href=/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bal/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbal><span>BAL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbapr-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbapr-check>
<label for=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbapr-check><a href=/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bapr/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingautomatic_block_systemsbapr><span>BAPR</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-frdocsrailway-wikisignallingspacingertms-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertms-check>
<label for=m-frdocsrailway-wikisignallingspacingertms-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-frdocsrailway-wikisignallingspacingertms><span>ERTMS</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingertmsetcs-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertmsetcs-check>
<label for=m-frdocsrailway-wikisignallingspacingertmsetcs-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/etcs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingertmsetcs><span>ETCS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingertmsgsm-r-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertmsgsm-r-check>
<label for=m-frdocsrailway-wikisignallingspacingertmsgsm-r-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/gsm-r/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingertmsgsm-r><span>GSM-R</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingertmsgprs-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertmsgprs-check>
<label for=m-frdocsrailway-wikisignallingspacingertmsgprs-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/gprs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingertmsgprs><span>GPRS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingertmsfrmcs-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertmsfrmcs-check>
<label for=m-frdocsrailway-wikisignallingspacingertmsfrmcs-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/frmcs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingertmsfrmcs><span>FRMCS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-frdocsrailway-wikisignallingspacingertmsetml-li><input type=checkbox id=m-frdocsrailway-wikisignallingspacingertmsetml-check>
<label for=m-frdocsrailway-wikisignallingspacingertmsetml-check><a href=/fr/docs/railway-wiki/signalling/spacing/ertms/etml/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-frdocsrailway-wikisignallingspacingertmsetml><span>ETML</span></a></label></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/osrd-project/osrd-website/tree/master/content/docs/guides/contribute/conventions/front.fr.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> Afficher la source de la page</a>
<a href=https://github.com/osrd-project/osrd-website/edit/master/content/docs/guides/contribute/conventions/front.fr.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Modifier cette page</a>
<a href="https://github.com/osrd-project/osrd-website/new/master/content/docs/guides/contribute/conventions/front.fr.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Créer une page dans cette section</a>
<a href="https://github.com/osrd-project/osrd-website/issues/new?title=Front-end" class=td-page-meta--issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Signaler un problème dans la documentation</a>
<a href=https://github.com/osrd-project/osrd/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Signaler un problème dans le projet</a>
<a id=print href=https://osrd.fr/fr/docs/guides/contribute/conventions/_print/><i class="fa fa-print fa-fw"></i> Imprimer la section entière</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#nomenclature>Nomenclature</a></li><li><a href=#principes-dimplémentation>Principes d&rsquo;implémentation</a><ul><li><a href=#routage--slug>Routage & SLUG</a></li><li><a href=#styles--scss>Styles & SCSS</a></li><li><a href=#storeredux>Store/Redux</a></li><li><a href=#rtk>RTK</a></li></ul></li><li><a href=#lois-et-éléments-importants>Lois et éléments importants</a></li><li><a href=#typescript>TypeScript</a><ul><li><a href=#import--export>import & export</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://osrd.fr/fr/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://osrd.fr/fr/docs/guides/>Guides pratiques</a></li><li class=breadcrumb-item><a href=https://osrd.fr/fr/docs/guides/contribute/>Contribuer à OSRD</a></li><li class=breadcrumb-item><a href=https://osrd.fr/fr/docs/guides/contribute/conventions/>Conventions</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://osrd.fr/fr/docs/guides/contribute/conventions/front/ aria-disabled=true class="btn-link disabled">Front-end</a></li></ol></nav><div class=td-content><h1>Front-end</h1><div class=lead>Conventions de codes et bonnes pratiques pour le front-end</div><header class=article-meta></header><p>Nous utilisons <strong>ReactJS</strong> et tous les fichiers doivent être écrits en <strong>Typescript</strong>.</p><p>Le code est <strong>linté</strong> avec <a href=https://eslint.org/>eslint</a>, et <strong>formaté</strong> avec <a href=https://prettier.io/>prettier</a>.</p><h2 id=nomenclature>Nomenclature</h2><p><img src=../nomenclature-front-end.svg alt="Diagramme de l&amp;rsquo;Infrastructure"></p><p>Les <strong>applications</strong> (osrd eex, osrd stdcm, éditeur infra, éditeur matériel) proposent des <strong>vues</strong> (gestion des projets, gestions des études, etc.) liées à des <strong>modules</strong> (projet, étude, etc.) qui contiennent les composants.</p><p>Ces <strong>vues</strong> sont constituées de <strong>composants</strong> et sous-composants <u>tous issus des modules</u>.
En plus de contenir les fichiers de <strong>vues</strong> des applications, elles peuvent contenir un répertoire <strong>scripts</strong> qui propose des scripts liés à ces vues. Les <strong>vues</strong> déterminent la logique et l&rsquo;<u>accès au store</u>.</p><p>Les <strong>modules</strong> sont des collections de <strong>composants</strong> rattachés à un <strong>objet</strong> (un scénario, un matériel roulant, un TrainSchedule). Ils contiennent :</p><ul><li>un répertoire <em>components</em> qui héberge <u>tous</u> les composants</li><li>un répertoire <em>styles</em> optionnel <u>par module</u> pour le style des composants en scss</li><li>un répertoire <em>assets</em> optionnel <u>par module</u> (qui contient les assets, de jeux de données par défaut par ex, spécifiques au module)</li><li>un fichier <em>reducers</em> optionnel <u>par module</u></li><li>un fichier <em>types</em> optionnel <u>par module</u></li><li>un fichier <em>consts</em> optionnel <u>par module</u></li></ul><p>Un répertoire <strong>assets</strong> (qui contient les images et autre fichiers).</p><p>Enfin, un répertoire <strong>common</strong> qui propose :</p><ul><li>un répertoire <em>utils</em> pour les fonctions utilitaires communes à l&rsquo;ensemble du projet</li><li>un fichier <em>types</em> pour les types communs à l&rsquo;ensemble du projet</li><li>un fichier <em>consts</em> pour les constantes communes à l&rsquo;ensemble du projet</li></ul><h2 id=principes-dimplémentation>Principes d&rsquo;implémentation</h2><h3 id=routage--slug>Routage & SLUG</h3><p><em>Rédaction en cours</em></p><p><code>projects/{nom du projet}/studies/{nom de l'étude}/scenarios/{nom du scenario}</code></p><h3 id=styles--scss>Styles & SCSS</h3><blockquote><p>ATTENTION : en CSS/React, le scope d&rsquo;une classe ne dépend pas de l&rsquo;endroit où le fichier est importé mais est valide pour toute l&rsquo;application. Si vous importez un fichier <code>scss</code> au fin fond d&rsquo;un composant (ce que nous déconseillons fortement par ailleurs), ses classes seront disponibles pour toute l&rsquo;application et peuvent donc provoquer des effets de bord.</p></blockquote><p>Il est donc très recommandé de pouvoir facilement suivre l&rsquo;arborescence des applications, vues, modules et composants également au sein du code SCSS, et notamment imbriquer les noms de classes pour éviter les effets de bord, le compilateur se chargera de fabriquer la hiérarchie nécessaire.</p><p>Si par exemple nous avons un composant <code>rollingStockSelector</code> qui propose une liste de matériel <code>rollingStockList</code> représentés par des cartes <code>rollingStockCard</code> contenant une image représentant le matériel roulant <code>rollingStockImg</code> nous devrions avoir la structure SCSS suivante :</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss><span style=display:flex><span><span style=color:#000>.rollinStockSelector</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#000>.rollingStockList</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>.rollingStockCard</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>.rollingStockImg</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>width</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#204a87;font-weight:700>rem</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>height</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#ce5c00>auto</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Ainsi, on a la garantie que l&rsquo;image contenue dans la carte de matériel roulant héritera bien des bonnes propriétés css <code>.rollinStockSelector.rollingStockList.rollingStockCard.rollingStockImg</code>.</p><h4 id=noms-de-classes-utilisation-de-cx>Noms de classes, utilisation de <code>cx()</code></h4><p>Les classes sont ajoutées les unes à la suite des autres, normalement, dans la propriété <code>className=""</code>.</p><p>Cependant, quand cela est nécessaire — tests pour l&rsquo;utilisation d&rsquo;une classe, concaténation, etc. — nous utilisons la librairie <a href=https://github.com/JedWatson/classnames>classnames</a> qui préconise l&rsquo;usage suivant :</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>className</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;rollingStockSelector&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>className</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;rollingStockList&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>className</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;rollingStockCard w-100 my-2&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>img</span>
</span></span><span style=display:flex><span>        <span style=color:#c4a000>className</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>cx</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;rollingStockImg&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;m-2&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;p-1&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bg-white&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>valid</span>: <span style=color:#204a87;font-weight:700>isValid</span><span style=color:#000;font-weight:700>(),</span>
</span></span><span style=display:flex><span>          <span style=color:#000>selected</span>: <span style=color:#204a87;font-weight:700>rollingStockID</span> <span style=color:#ce5c00;font-weight:700>===</span> <span style=color:#000>selectedRollingStockID</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>})}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>Les classes sont <strong>séparées</strong> chacune dans un <code>string</code> et les opérations booléennes ou autres sont réalisées dans un objet qui retournera — ou pas — le nom de propriété comme nom de classe à utiliser dans le CSS.</p><h3 id=storeredux>Store/Redux</h3><p>Tout ce qui est <em>selector</em> est géré par la <strong>vue</strong> et passé en props aux composants et sous-composants.</p><p>Par conséquent les appels au store en lecture et en écriture doivent être passés un niveau de la vue, en irrigant par des <em>props</em> et <em>states</em> les composants proposées par la vue.</p><h3 id=rtk>RTK</h3><p>Utiliser les endpoints générés à partir des fichiers <code>openapi.yaml</code> pour consommer le backend.</p><h4 id=fonctionnement-du-cache-dans-rtk-query>Fonctionnement du cache dans RTK Query</h4><p>Lorsque de la donnée est récupérée depuis le back, RTK va mettre cette donnée en cache dans le store. Si le même endpoint est appelé avec les même paramètres, RTK va réutiliser la donnée dans le cache plutôt que de rappeler le back.</p><p>Dans le store, vous verrez cette clé <code>editoastApi</code> qui contient la donnée en cache de tous les endpoints editoast :</p><p><img src=../store-redux-main.png alt="store Redux"></p><p>Ici par exemple l’endpoint <code>getProjects</code> a été appelé.</p><p>RTK stocke le nom de l’endpoint, ainsi que les paramètres d’appel, pour former une clé unique <code>nomDuEndpoint({ paramètres })</code>. (ici <code>getProjects({"ordering":"LastModifiedDesc","pageSize":1000})</code>).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#39;getProjectsByProjectIdStudiesAndStudyId({&#34;projectId&#34;:13,&#34;studyId&#34;:16})&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>status</span> <span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;fulfilled&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>etc</span><span style=color:#a40000>…</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#39;getProjectsByProjectIdStudiesAndStudyId({&#34;projectId&#34;:13,&#34;studyId&#34;:14})&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a40000>…</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Dans ce deuxième exemple, le même endpoint a été appelé avec le même paramètre <code>projectId</code>, mais un paramètre <code>studyId</code> différent.</p><h5 id=sérialisation-des-clés-dans-le-cache>Sérialisation des clés dans le cache</h5><p>Les string utilisées comme clé dans le cache sont à peu de choses près l’objet paramètre passé à la moulinette <code>JSON.stringify</code> que transforme un object JS en string (donc sérialisé).</p><p>Normalement La sérialisation ne conserve pas l’ordre des clés des objets. Par exemple, <code>JSON.stringify</code> ne produira pas la même string avec ces deux objets: <code>{ a: 1, b: 2 }</code> et <code>{ b: 2, a: 1 }</code>.</p><p>RTK va optimiser la mise en cache en faisant en sorte que le résultat d’un appel avec <code>{"projectId":13,"studyId":16}</code> ou <code>{"studyId":16, "projectId":13}</code> soient stockées dans la même clé dans le cache.</p><p>Pour voir le fonctionnement en détail, voici le code de cette fonction de sérialisation :</p><details><summary>Fonction de sérialisation RTK</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>defaultSerializeQueryArgs</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>SerializeQueryArgs</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>any</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>({</span>
</span></span><span style=display:flex><span>    <span style=color:#000>endpointName</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>queryArgs</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>})</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>let</span> <span style=color:#000>serialized</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>cached</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>cache</span><span style=color:#ce5c00;font-weight:700>?</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>get</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>queryArgs</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>typeof</span> <span style=color:#000>cached</span> <span style=color:#ce5c00;font-weight:700>===</span> <span style=color:#4e9a06>&#39;string&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000>serialized</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>cached</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>stringified</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>JSON</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stringify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>queryArgs</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>=&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#000>isPlainObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>          <span style=color:#ce5c00;font-weight:700>?</span> <span style=color:#204a87>Object</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>keys</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>value</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#000;font-weight:700>.</span><span style=color:#000>sort</span><span style=color:#000;font-weight:700>()</span> <span style=color:#8f5902;font-style:italic>// les clés sont remises dans l’ordre ici
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>              <span style=color:#000;font-weight:700>.</span><span style=color:#000>reduce</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>any</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>acc</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>key</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>acc</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>value</span> <span style=color:#000>as</span> <span style=color:#000>any</span><span style=color:#000;font-weight:700>)[</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>acc</span>
</span></span><span style=display:flex><span>              <span style=color:#000;font-weight:700>},</span> <span style=color:#000;font-weight:700>{})</span>
</span></span><span style=display:flex><span>          <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>value</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>isPlainObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>queryArgs</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>cache</span><span style=color:#ce5c00;font-weight:700>?</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>set</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>queryArgs</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>stringified</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000>serialized</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>stringified</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// Sort the object keys before stringifying, to prevent useQuery({ a: 1, b: 2 }) having a different cache key than useQuery({ b: 2, a: 1 })
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>`</span><span style=color:#4e9a06>${</span><span style=color:#000>endpointName</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>(</span><span style=color:#4e9a06>${</span><span style=color:#000>serialized</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>)`</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></details><h5 id=souscriptions-à-la-donnée>Souscriptions à la donnée</h5><p>Dans la terminologie de RTK query, Lorsqu’un composant react appelle un endpoint défini dans RTK Query, il <em>souscrit</em> à la donnée.</p><p>RTK compte le nombre de référence à la même paire (endpoint,{paramètres}). Lorsque deux composants souscrivent à la même donnée. Ils partagent la même clé dans le cache.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>osrdEditoastApi</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#4e9a06>&#39;./api.ts&#39;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>Component1() {</span>  
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// component subscribes to the data  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>osrdEditoastApi</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>useGetXQuery</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;...&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>  
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>Component2() {</span>  
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// component subscribes to the data  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>osrdEditoastApi</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>useGetXQuery</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;...&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>  
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>Component3() {</span>  
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// component subscribes to the data  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>osrdEditoastApi</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>useGetXQuery</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;...&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>  
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>Component4() {</span>  
</span></span><span style=display:flex><span>  <span style=color:#8f5902;font-style:italic>// component subscribes to the *same* data as ComponentThree,  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// as it has the same query parameters  
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>data</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>osrdEditoastApi</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>useGetXQuery</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>)</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;...&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>  
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Ici <code>Component3</code> et <code>Component4</code> ne vont générer qu’un seul appel vers le back. Ils souscrivent à la même donnée (même endpoint et même paramètre <code>3</code>). Ils vont partager la même clé dans le cache.</p><p>Au total ici il y aura trois appels vers le back, avec les paramètres <code>1</code>, <code>2</code>, <code>3</code>.</p><p>Tant qu’il existe au moins un composant react monté, qui appelle le hook <code>osrdEditoastApi.endpoints.getProjectsByProjectId.useQuery</code> par exemple, la donnée sera conservée dans le cache.</p><p>Dès que le dernier composant est démonté, la donnée est supprimée du cache au bout de 60 secondes (valeur par défaut).</p><h2 id=lois-et-éléments-importants>Lois et éléments importants</h2><blockquote><p><strong>Aucun composant ne doit détenir la responsabilité de mise à jour de la donnée qu&rsquo;il utilise</strong></p><p>Seules <u>les vues</u> contiennent les sélecteurs du store, donnés ensuite en props aux composants du module lié à la vue.</p></blockquote><blockquote><p><strong>Le SCSS n&rsquo;est pas scopé</strong></p><p>Un fichier <code>.scss</code> enfoui dans l&rsquo;arborescence ne vous garantit pas que les classes contenues soient seulement accessibles à cet endroit, y compris par import react (formellement interdit au passage : vous devez utiliser l&rsquo;import SCSS), toutes les classes déclarées sont accessibles partout.</p><p>Préférez un choix judicieux de nom de classe racine pour un module donné et utilisez l&rsquo;arborescence possible dans le fichier SCSS.</p></blockquote><blockquote><p><strong>Les liens des imports doivent être absolus au sein d&rsquo;une application</strong></p><p>Vous devez utiliser le <u>chemin complet</u> pour tous vos imports, même si le fichier à importer se trouve dans le même répertoire.</p></blockquote><blockquote><p><strong>Les liens des imports doivent être relatifs au sein d&rsquo;un module ou d&rsquo;un composant</strong></p><p>Au sein d&rsquo;un module ou d&rsquo;un composant, à l&rsquo;instar d&rsquo;une librairie, les liens d&rsquo;imports doivent rester relatifs afin de permettre leur utilisation n&rsquo;importe où.</p></blockquote><h2 id=typescript>TypeScript</h2><h3 id=import--export>import & export</h3><p>Nous recommendons d’utiliser les imports et export typés.</p><p>Lorsque qu’un <code>import</code> ou un <code>export</code> ne comporte que des types, l’indiquer par le mot clé <code>type</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#204a87;font-weight:700>export</span> <span style=color:#204a87;font-weight:700>type</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>Direction</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>DirectionalTrackRange</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>TrackRange</span> <span style=color:#000;font-weight:700>};</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#204a87;font-weight:700>type</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>typedEntries</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ValueOf</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#4e9a06>&#39;utils/types&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>Cette pratique permet de :</p><ul><li>Améliorer les performances et le travail d’analyse du compilateur et du linter.</li><li>Rendre ces déclarations plus lisibles, on voit clairement ce qu’on est en train d’importer.</li><li>Éviter des cycles de dépendances :</li></ul><p><img src=../dependency-cycle.png alt="dependency cyle"></p><p>L’erreur disparaît avec le mot clé <code>type</code></p><p><img src=../dependency-cycle-gone.png alt="dependency cyle"></p><ul><li>Alléger le bundle final (tous les types disparaissent à la compilation).</li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/osrd-project/osrd aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 Contributeurs à OSRD. Tous droits réservés</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.928c8c2d8b4f463998503da833bc465b748d40b80287e0398a7e1a38ab1c87a2.js integrity="sha256-koyMLYtPRjmYUD2oM7xGW3SNQLgCh+A5in4aOKsch6I=" crossorigin=anonymous></script></body></html>