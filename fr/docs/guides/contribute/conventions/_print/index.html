<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.2"><link rel=canonical type=text/html href=https://osrd.fr/fr/docs/guides/contribute/conventions/><link rel=alternate type=application/rss+xml href=https://osrd.fr/fr/docs/guides/contribute/conventions/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Conventions | OSRD</title><meta name=description content="Conventions de codes et bonnes pratiques"><meta property="og:title" content="Conventions"><meta property="og:description" content="Conventions de codes et bonnes pratiques"><meta property="og:type" content="website"><meta property="og:url" content="https://osrd.fr/fr/docs/guides/contribute/conventions/"><meta property="og:site_name" content="OSRD"><meta itemprop=name content="Conventions"><meta itemprop=description content="Conventions de codes et bonnes pratiques"><meta name=twitter:card content="summary"><meta name=twitter:title content="Conventions"><meta name=twitter:description content="Conventions de codes et bonnes pratiques"><link rel=preload href=/scss/main.min.f03845650927da20a5e2e1fdc5e543de4fa1a463e0acedaca071fac4e82a8bf4.css as=style><link href=/scss/main.min.f03845650927da20a5e2e1fdc5e543de4fa1a463e0acedaca071fac4e82a8bf4.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/fr/><span class=navbar-logo><svg id="Calque_1" data-name="Calque 1" viewBox="0 0 64 64" sodipodi:docname="logo_osrd_seul_blanc.svg" width="64" height="64" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="3440" inkscape:window-height="1380" id="namedview47" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="3.0016455" inkscape:cx="12.992873" inkscape:cy="71.294228" inkscape:window-x="0" inkscape:window-y="32" inkscape:window-maximized="1" inkscape:current-layer="Calque_1" inkscape:pagecheckerboard="0"/><defs id="defs4"><style id="style2">.cls-1,.cls-2,.cls-3,.cls-4,.cls-7{fill:none;stroke-linecap:round;stroke-linejoin:round}.cls-1,.cls-4{stroke:#aa026d}.cls-1,.cls-2{stroke-width:10px}.cls-2,.cls-3{stroke:#71196f}.cls-3,.cls-4{stroke-width:5px}.cls-5,.cls-6{font-size:119.48px}.cls-5{fill:#71196f;font-family:AvenirLTStd-Heavy,Avenir LT Std}.cls-6{fill:#aa026d;font-family:AvenirLTStd-Medium,Avenir LT Std}.cls-7{stroke:#fff;stroke-width:.75px}</style></defs><title id="title6">logo-OSRD_</title><g id="g847" transform="matrix(0.09645818,0,0,0.09645818,7.1489968,-1.215e-6)"><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-88c0-199.26-91.83-331.42-279.82-362" id="path8" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-87.07c0-156.89-75.34-258.73-229.71-276" id="path10" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-70.49c0-121.76-58.68-200.64-178.91-213.6" id="path12" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="M125.74 658.5V617.36C125.74 533.21 86.13 478 5 466.95" id="path14" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m125.74 658.5v-88c0-199.26 91.84-331.42 279.83-362" id="path16" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-87.07c0-156.89 75.34-258.73 229.71-276" id="path18" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-70.49c0-121.76 58.68-200.64 178.91-213.6" id="path20" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-41.14c0-84.15 39.62-139.36 120.75-150.41" id="path22" style="stroke:#f2f2f2;stroke-opacity:1"/><line class="cls-3" x1="126" y1="642.5" x2="126" y2="122.5" id="line24" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-3" x1="217" y1="642.5" x2="217" y2="2.5" id="line26" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-4" x1="299" y1="642.5" x2="299" y2="2.5" id="line28" style="stroke:#f7f7f7;stroke-opacity:1"/><line class="cls-4" x1="390" y1="642.5" x2="390" y2="122.5" id="line30" style="stroke:#f2f2f2;stroke-opacity:1"/></g></svg></span><span class=font-weight-bold>OSRD</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/fr/about/><span>À propos</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/fr/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/fr/blog/><span>Blog</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Français</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/docs/guides/contribute/conventions/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Rechercher" aria-label=Rechercher autocomplete=off data-offline-search-index-json-src=/offline-search-index.52051f2b277f625752fd68f13a5420fc.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Version imprimable multipages.
<a href=# onclick="return print(),!1">Cliquer ici pour imprimer</a>.</p><p><a href=/fr/docs/guides/contribute/conventions/>Retour à la version par défaut</a>.</p></div><h1 class=title>Conventions</h1><div class=lead>Conventions de codes et bonnes pratiques</div><ul><li>1: <a href=#pg-44aaf11a0e1d1addb935327f71d72eae>Back-end</a></li><li>2: <a href=#pg-b4cb918ff243c57c34142cb58c0cf3ac>Front-end</a></li><li>3: <a href=#pg-1459dea9b1bf73e5bc2b04538200a97e>Tests</a></li></ul><div class=content><p>L&rsquo;application OSRD est divisée en plusieurs services écrits dans plusieurs langues. Nous essayons de suivre les bonnes pratiques générales en matière de code et de respecter les spécificités de chaque langue lorsque cela est nécessaire.</p><h2 id=règles-générales>Règles générales</h2><ul><li>Expliquez ce que vous faites et pourquoi.</li><li>Documentez le nouveau code.</li><li>Ajoutez des tests clairs et simples.</li><li>Décomposez le travail en morceaux intelligibles.</li><li>Prenez le temps de choisir de bons noms.</li><li>Évitez les abréviations peu connues.</li><li><strong>Contrôle et cohérence de la réutilisation du code de tiers</strong> : une dépendance est ajoutée seulement si elle est absolument nécessaire.</li><li>Chaque dépendance ajoutée diminue notre autonomie et notre cohérence.</li><li><strong>Ne pas réinventer la roue</strong> : En opposition au point précédent, ne réinventez pas tout à tout prix.</li><li>S&rsquo;il existe une dépendance dans l&rsquo;écosystème qui est le standard &ldquo;de-facto&rdquo;, nous devrions fortement envisager de l&rsquo;utiliser.</li><li>Plus de code et de recommandations générales dans le dépôt principal <a href=https://github.com/osrd-project/osrd>CONTRIBUTING.md</a>.</li><li>Demandez toute l&rsquo;aide dont vous avez besoin !</li></ul></div></div><div class=td-content style=page-break-before:always><h1 id=pg-44aaf11a0e1d1addb935327f71d72eae>1 - Back-end</h1><div class=lead>Conventions de codes et bonnes pratiques pour le back-end</div><h1 id=python>Python</h1><p>Le code Python est utilisé pour certains paquets et pour les tests d&rsquo;intégration.</p><ul><li>Suivez le <a href=https://www.python.org/dev/peps/pep-0020/>Zen of Python</a>.</li><li>Le code est linté avec <a href=https://github.com/csachs/pyproject-flake8>flake8</a>.</li><li>Le code est formaté avec <a href=https://github.com/psf/black>Black</a>.</li><li>Les imports sont triées avec <a href=https://github.com/PyCQA/isort>Isort</a>.</li><li>Les tests sont écrits avec <a href=https://docs.pytest.org/>pytest</a>.</li><li>Les types sont vérifiés avec <a href=https://google.github.io/pytype/>pytype</a>.</li></ul><h1 id=rust>Rust</h1><ul><li>Comme référence pour le développement de notre API, nous utilisons les <a href=https://rust-lang.github.io/api-guidelines/about.html>Rust API guidelines</a>.
D&rsquo;une manière générale, il convient de les respecter.</li><li>Préférer les importations granulaires aux importations globales comme <code>diesel::*</code>.</li><li>Les tests sont écrits avec le <a href=https://doc.rust-lang.org/book/ch11-01-writing-tests.html>framework de base</a>.</li><li>Utilisez l&rsquo;<a href=https://doc.rust-lang.org/rust-by-example/meta/doc.html>exemple de documentation</a> pour savoir comment formuler et formater votre documentation.</li><li>Utilisez un style de commentaire cohérent :<ul><li><code>///</code> les commentaires de la documentation sont au-dessus des invocations <code>#[derive(Trait)]</code>.</li><li>Les commentaires <code>//</code> doivent généralement être placés au-dessus de la ligne en question, plutôt qu&rsquo;en ligne.</li><li>Les commentaires commencent par des lettres majuscules.
Terminez-les par un point s&rsquo;ils ressemblent à une phrase.</li></ul></li><li>Utilisez les commentaires pour organiser des portions de code longues et complexes qui ne peuvent être raisonnablement remaniées en fonctions distinctes.</li><li>Le code est linté avec <a href=https://github.com/rust-lang/rust-clippy>clippy</a>.</li><li>Le code est formaté avec <a href=https://github.com/rust-lang/rustfmt>fmt</a>.</li></ul><h1 id=java>Java</h1><ul><li>Le code est formaté avec <a href=https://checkstyle.sourceforge.io/>checkstyle</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b4cb918ff243c57c34142cb58c0cf3ac>2 - Front-end</h1><div class=lead>Conventions de codes et bonnes pratiques pour le front-end</div><p>Nous utilisons <strong>ReactJS</strong> et tous les fichiers doivent être écrits en <strong>Typescript</strong>.</p><p>Le code est <strong>linté</strong> avec <a href=https://eslint.org/>eslint</a>, et <strong>formaté</strong> avec <a href=https://prettier.io/>prettier</a>.</p><h2 id=nomenclature>Nomenclature</h2><p><img src=../nomenclature-front-end.svg alt="Diagramme de l&amp;rsquo;Infrastructure"></p><p>Les <strong>applications</strong> (osrd eex, osrd stdcm, éditeur infra, éditeur matériel) proposent des <strong>vues</strong> (gestion des projets, gestions des études, etc.) liées à des <strong>modules</strong> (projet, étude, etc.) qui contiennent les composants.</p><p>Ces <strong>vues</strong> sont constituées de <strong>composants</strong> et sous-composants <u>tous issus des modules</u>.
En plus de contenir les fichiers de <strong>vues</strong> des applications, elles peuvent contenir un répertoire <strong>scripts</strong> qui propose des scripts liés à ces vues. Les <strong>vues</strong> déterminent la logique et l&rsquo;<u>accès au store</u>.</p><p>Les <strong>modules</strong> sont des collections de <strong>composants</strong> rattachés à un <strong>objet</strong> (un scénario, un matériel roulant, un TrainSchedule). Ils contiennent :</p><ul><li>un répertoire <em>components</em> qui héberge <u>tous</u> les composants</li><li>un répertoire <em>styles</em> optionnel <u>par module</u> pour le style des composants en scss</li><li>un répertoire <em>assets</em> optionnel <u>par module</u> (qui contient les assets, de jeux de données par défaut par ex, spécifiques au module)</li><li>un fichier <em>reducers</em> optionnel <u>par module</u></li><li>un fichier <em>types</em> optionnel <u>par module</u></li><li>un fichier <em>consts</em> optionnel <u>par module</u></li></ul><p>Un répertoire <strong>assets</strong> (qui contient les images et autre fichiers).</p><p>Enfin, un répertoire <strong>common</strong> qui propose :</p><ul><li>un répertoire <em>utils</em> pour les fonctions utilitaires communes à l&rsquo;ensemble du projet</li><li>un fichier <em>types</em> pour les types communs à l&rsquo;ensemble du projet</li><li>un fichier <em>consts</em> pour les constantes communes à l&rsquo;ensemble du projet</li></ul><h2 id=principes-dimplémentation>Principes d&rsquo;implémentation</h2><h3 id=routage--slug>Routage & SLUG</h3><p><em>Rédaction en cours</em></p><p><code>projects/{nom du projet}/studies/{nom de l'étude}/scenarios/{nom du scenario}</code></p><h3 id=styles--scss>Styles & SCSS</h3><p><em>Rédaction en cours</em></p><h3 id=storeredux>Store/Redux</h3><p>Tout ce qui est <em>selector</em> est géré par la <strong>vue</strong> passé en props aux composants et sous-composants.</p><p>Par conséquent les appels au store en lecture et en écriture doivent être passés un niveau de la vue, en irrigant par des <em>props</em> et <em>states</em> les composants proposées par la vue.</p><h3 id=rtk>RTK</h3><p><em>Rédaction en cours</em></p><p>Utiliser les endpoints générés à partir des fichiers <code>openapi.yaml</code> pour consommer le backend.</p><h2 id=lois-et-éléments-importants>Lois et éléments importants</h2><blockquote><p><strong>Aucun composant ne doit détenir la responsabilité de mise à jour de la donnée qu&rsquo;il utilise</strong></p><p>Seules <u>les vues</u> contiennent les sélecteurs du store, donnés ensuite en props aux composants du module lié à la vue.</p></blockquote><blockquote><p><strong>Le SCSS n&rsquo;est pas scopé</strong></p><p>Un fichier <code>.scss</code> enfoui dans l&rsquo;arborescence ne vous garantit pas que les classes contenues soient seulement accessibles à cet endroit, y compris par import react (formellement interdit au passage : vous devez utiliser l&rsquo;import SCSS), toutes les classes déclarées sont accessibles partout.</p><p>Préférez un choix judicieux de nom de classe racine pour un module donné et utilisez l&rsquo;arborescence possible dans le fichier SCSS.</p></blockquote><blockquote><p><strong>Les liens des imports doivent être absolus au sein d&rsquo;une application</strong></p><p>Vous devez utiliser le <u>chemin complet</u> pour tous vos imports, même si le fichier à importer se trouve dans le même répertoire.</p></blockquote><blockquote><p><strong>Les liens des imports doivent être relatifs au sein d&rsquo;un module ou d&rsquo;un composant</strong></p><p>Au sein d&rsquo;un module ou d&rsquo;un composant, à l&rsquo;instar d&rsquo;une librairie, les liens d&rsquo;imports doivent rester relatifs afin de permettre leur utilisation n&rsquo;importe où.</p></blockquote><h2 id=typescript>TypeScript</h2><h3 id=import--export>import & export</h3><p>Nous recommendons d’utiliser les imports et export typés.</p><p>Lorsque qu’un <code>import</code> ou un <code>export</code> ne comporte que des types, l’indiquer par le mot clé <code>type</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#204a87;font-weight:700>export</span> <span style=color:#204a87;font-weight:700>type</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>Direction</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>DirectionalTrackRange</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>TrackRange</span> <span style=color:#000;font-weight:700>};</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#204a87;font-weight:700>type</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>typedEntries</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ValueOf</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>from</span> <span style=color:#4e9a06>&#39;utils/types&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>Cette pratique permet de :</p><ul><li>Améliorer les performances et le travail d’analyse du compilateur et du linter.</li><li>Rendre ces déclarations plus lisibles, on voit clairement ce qu’on est en train d’importer.</li><li>Éviter des cycles de dépendances :</li></ul><p><img src=./dependency-cycle.png alt="dependency cyle"></p><p>L’erreur disparaît avec le mot clé <code>type</code></p><p><img src=./dependency-cycle-gone.png alt="dependency cyle"></p><ul><li>Alléger le bundle final (tous les types disparaissent à la compilation).</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1459dea9b1bf73e5bc2b04538200a97e>3 - Tests</h1><div class=lead>Recommandations pour les tests</div><h2 id=back-end>Back-end</h2><ul><li>Les tests d&rsquo;intégration sont écrits avec <a href=https://docs.pytest.org/>pytest</a> dans le dossier <code>/tests</code>.</li><li>Chaque route décrite dans les fichiers <code>openapi.yaml</code> doit avoir un test d&rsquo;intégration.</li><li>Le test doit vérifier à la fois le format et le contenu des réponses valides et invalides.</li></ul><h2 id=front-end>Front-end</h2><p>L&rsquo;écriture fonctionnelle des tests est réalisée avec les <em>Product Owners</em>, et les développeurs choisissent une implémentation technique qui répond précisément aux besoins exprimés et qui s&rsquo;intègre dans les recommandations présentes ici.</p><p>Nous utilisons <a href=https://playwright.dev/>Playwright</a> pour écrire les tests bout en bout, et <a href=https://vitest.dev/>vitest</a> pour écrire les tests unitaires.</p><p>Les navigateurs testés sont pour l&rsquo;instant <a href=https://www.mozilla.org/fr/firefox/switch/>Firefox</a> et Chromium.</p><h3 id=principes-de-base>Principes de base</h3><ul><li>Les tests doivent être <strong>courts</strong> (1min max) et aller <strong>droit au but</strong>.</li><li>Les timeout arbitraires sont proscrits, un test doit systématiquement attendre un évènement spécifique. Il est possible d&rsquo;utiliser le <em>polling</em> (retenter une action — un clic par exemple — au bout d&rsquo;un certain temps) proposé dans l&rsquo;API de <a href=https://playwright.dev/>Playwright</a>.</li><li>Les tests doivent tous pouvoir être parallélisables.</li><li>Les tests ne doivent pas pointer/attendre des éléments de texte issus de la traduction, préférer l&rsquo;arborescence du <em>DOM</em> ou encore placer des <code>id</code> spécifiques.</li><li>On ne teste pas les données mais l&rsquo;application et ses fonctionnalités. Des tests spécifiques aux données sont à élaborer par ailleurs.</li></ul><h4 id=données>Données</h4><p><strong>Les données testées doivent impérativement être des données publiques.</strong>
Les données nécessaires (infrastructure et matériel) aux tests sont proposées dans des fichiers <code>json</code> de l&rsquo;application, <em>injectées</em> au début de chaque test et effacées à la fin peu importe son résultat ou la manière d&rsquo;être stoppé, y compris par <code>CTRL+C</code>.</p><p>Cela se fait par des appels API en typescript avant de lancer le test à proprement parler.</p><p>Les données testées sont les mêmes en local ou via l&rsquo;intégration continue.</p><h4 id=atomicité-dun-test>Atomicité d&rsquo;un test</h4><p>Chaque test doit être <strong>atomique</strong> : il se suffit à lui même et ne peut pas être divisé.</p><p>Un test va cibler une fonctionnalité ou un composant, si ce dernier n&rsquo;est pas trop gros. Un test ne testera pas tout un module ou tout une application, ce sera forcément un ensemble de tests afin de préserver l&rsquo;atomicité des tests.</p><p>Si un test a besoin que des éléments soient créés ou ajoutés, ces opérations doivent être opérées par des appels API en typescript en amont du test, à l&rsquo;instar de ce qui est fait pour l&rsquo;ajout de données. Ces éléments doivent être supprimés à l&rsquo;issue du test, peu importe son résultat ou la manière d&rsquo;être stoppé, y compris par <code>CTRL+C</code>.</p><p>Cela permettra notamment la parallélisation des tests.</p><p>Un test peut cependant, dans certains cas de figure où cela est pertinent, contenir plusieurs sous-divisions de test, clairement explicitées, et justifiées (plusieurs <code>test()</code> dans un seul <code>describe()</code>).</p><h3 id=exemple-de-test>Exemple de test</h3><p>Le besoin : « nous voulons tester l&rsquo;ajout d&rsquo;un train dans une grille horaire ».</p><ol><li>ajouter l&rsquo;infrastructure et le matériel roulant de test dans la base de données <strong>par appels API</strong></li><li>créer projet, étude et scénario avec choix de l&rsquo;infra de test <strong>par appels API</strong></li><li>début du test qui clique sur « ajouter un ou plusieurs trains » jusqu&rsquo;à la vérification de la présence des trains dans la grille horaire</li><li>le test a réussi, a échoué, ou est stoppé, le projet, l&rsquo;étude et le scénario sont effacés, ainsi que le matériel roulant et et l&rsquo;infrastructure de test <strong>par appels API</strong></li></ol><p><em>NB : le test ne va pas tester toutes les possibilités offertes par l&rsquo;ajout de trains, cela relève d&rsquo;un test spécifique qui testerait la réponse de l&rsquo;interface pour tous les cas de figure sans ajouter de trains.</em></p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/osrd-project/osrd aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 Contributeurs à OSRD. Tous droits réservés</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.928c8c2d8b4f463998503da833bc465b748d40b80287e0398a7e1a38ab1c87a2.js integrity="sha256-koyMLYtPRjmYUD2oM7xGW3SNQLgCh+A5in4aOKsch6I=" crossorigin=anonymous></script></body></html>